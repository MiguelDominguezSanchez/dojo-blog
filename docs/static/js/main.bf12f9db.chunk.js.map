{"version":3,"sources":["BlogList.js","useFetch.js","Home.js","Navbar.js","Create.js","BlogDetails.js","NotFound.js","App.js","index.js"],"names":["BlogList","blogs","title","className","map","blog","to","id","author","useFetch","url","useState","data","setData","isPending","setIsPending","error","setError","useEffect","abortCont","AbortController","setTimeout","fetch","signal","then","res","ok","Error","json","catch","err","name","console","log","message","abort","Home","Navbar","Create","setTitle","body","setBody","setAuthor","history","useHistory","onSubmit","e","preventDefault","method","headers","JSON","stringify","push","type","required","value","onChange","target","disabled","BlogDetails","useParams","autohor","onClick","NotFound","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf12f9db.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\n\nconst BlogList = ({ blogs, title }) => {\n\treturn (\n\t\t<div className=\"blog-list\">\n\t\t\t<h2>{title}</h2>\n\t\t\t{blogs.map(blog => (\n\t\t\t\t<div className=\"blog-preview\" key={blog.id}>\n\t\t\t\t\t<Link to={`/blogs/${blog.id}`}>\n\t\t\t\t\t\t<h2>{blog.title}</h2>\n\t\t\t\t\t\t<p>Written by {blog.author}</p>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default BlogList;\n","import { useState, useEffect } from 'react';\n\nconst useFetch = url => {\n\tconst [data, setData] = useState(null);\n\tconst [isPending, setIsPending] = useState(true);\n\tconst [error, setError] = useState(null);\n\n\tuseEffect(() => {\n\t\tconst abortCont = new AbortController();\n\n\t\tsetTimeout(() => {\n\t\t\tfetch(url, { signal: abortCont.signal })\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (!res.ok) {\n\t\t\t\t\t\tthrow Error('could not fetch the data for that resource');\n\t\t\t\t\t}\n\t\t\t\t\treturn res.json();\n\t\t\t\t})\n\t\t\t\t.then(data => {\n\t\t\t\t\tsetData(data);\n\t\t\t\t\tsetIsPending(false);\n\t\t\t\t\tsetError(null);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t\t\tconsole.log('fetch aborted');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetIsPending(false);\n\t\t\t\t\t\tsetError(err.message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}, 1000);\n\n\t\treturn () => abortCont.abort();\n\t}, [url]);\n\n\treturn { data, isPending, error };\n};\n\nexport default useFetch;\n","import BlogList from './BlogList';\nimport useFetch from './useFetch';\n\nconst Home = () => {\n\tconst { data: blogs, isPending, error } = useFetch(\n\t\t'http://localhost:8000/blogs'\n\t);\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t{error && <div>{error}</div>}\n\t\t\t{isPending && <div>loading...</div>}\n\t\t\t{blogs && <BlogList blogs={blogs} title=\"All Blogs !\" />}\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import { Link } from 'react-router-dom';\n\nconst Navbar = () => {\n\treturn (\n\t\t<nav className=\"navbar\">\n\t\t\t<h1>The Dojo Blog</h1>\n\t\t\t<div className=\"links\">\n\t\t\t\t<Link to=\"/\">Home</Link>\n\t\t\t\t<Link to=\"/create\">New Blog</Link>\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default Navbar;\n","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nconst Create = () => {\n\tconst [title, setTitle] = useState('');\n\tconst [body, setBody] = useState('');\n\tconst [author, setAuthor] = useState('yoshi');\n\tconst [isPending, setIsPending] = useState(false);\n\tconst history = useHistory();\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst blog = { title, body, author };\n\n\t\tsetIsPending(true);\n\n\t\tfetch('http://localhost:8000/blogs', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-type': 'application/json' },\n\t\t\tbody: JSON.stringify(blog),\n\t\t}).then(() => {\n\t\t\tconsole.log('new blog added');\n\t\t\tsetIsPending(false);\n\t\t\t// history.go(1);\n\t\t\thistory.push('/');\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"create\">\n\t\t\t<h2>Add a New Blog</h2>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<label>Blog Title</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\trequired\n\t\t\t\t\tvalue={title}\n\t\t\t\t\tonChange={e => setTitle(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<label>Blog Body</label>\n\t\t\t\t<textarea\n\t\t\t\t\trequired\n\t\t\t\t\tvalue={body}\n\t\t\t\t\tonChange={e => setBody(e.target.value)}\n\t\t\t\t></textarea>\n\t\t\t\t<label>Blog author:</label>\n\t\t\t\t<select value={author} onChange={e => setAuthor(e.target.value)}>\n\t\t\t\t\t<option value=\"mario\">mario</option>\n\t\t\t\t\t<option value=\"yoshi\">yoshi</option>\n\t\t\t\t</select>\n\t\t\t\t{!isPending && <button>Add Blog</button>}\n\t\t\t\t{isPending && <button disabled>Adding Blog...</button>}\n\t\t\t\t{/*<p>{title}</p>\n\t\t\t\t<p>{body}</p>\n\t<p>{author}</p>*/}\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default Create;\n","import { useHistory, useParams } from 'react-router-dom';\nimport useFetch from './useFetch';\n\nconst BlogDetails = () => {\n\tconst { id } = useParams();\n\tconst { data: blog, error, isPending } = useFetch(\n\t\t'http://localhost:8000/blogs/' + id\n\t);\n\tconst history = useHistory();\n\n\tconst handleClick = () => {\n\t\tfetch('http://localhost:8000/blogs/' + blog.id, {\n\t\t\tmethod: 'DELETE',\n\t\t}).then(() => {\n\t\t\thistory.push('/');\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"blog-details\">\n\t\t\t{isPending && <div>Loading...</div>}\n\t\t\t{error && <div>{error}</div>}\n\t\t\t{blog && (\n\t\t\t\t<article>\n\t\t\t\t\t<h2>{blog.title}</h2>\n\t\t\t\t\t<p>Written by {blog.autohor}</p>\n\t\t\t\t\t<div> {blog.body} </div>\n\t\t\t\t\t<button onClick={handleClick}>delete</button>\n\t\t\t\t</article>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default BlogDetails;\n","import { Link } from 'react-router-dom';\n\nconst NotFound = () => {\n\treturn (\n\t\t<div className=\"not-found\">\n\t\t\t<h2>sorry</h2>\n\t\t\t<p>That page cannot be found</p>\n\t\t\t<Link to=\"/\">Back to the Homepage...</Link>\n\t\t</div>\n\t);\n};\n\nexport default NotFound;\n","import './App.css';\nimport Home from './Home';\nimport Navbar from './Navbar';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Create from './Create';\nimport BlogDetails from './BlogDetails';\nimport NotFound from './NotFound';\n\nfunction App() {\n\treturn (\n\t\t<Router>\n\t\t\t<div className=\"App\">\n\t\t\t\t<Navbar />\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t<Home />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/create\">\n\t\t\t\t\t\t\t<Create />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/blogs/:id\">\n\t\t\t\t\t\t\t<BlogDetails />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t\t\t<NotFound />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}